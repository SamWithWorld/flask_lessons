2022-10-11 14:24:05,825 ERROR: Exception on /reset_password_request/ [POST] [in /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py:1892]
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/sam/PycharmProjects/flask_lessons/app/routes.py", line 198, in reset_password_request
    send_password_reset_email(user)
  File "/Users/sam/PycharmProjects/flask_lessons/app/email.py", line 31, in send_password_reset_email
    text_body='ABC')
  File "/Users/sam/PycharmProjects/flask_lessons/app/email.py", line 19, in send_email
    msg.body=bytes(msg.body, encoding="utf-8")
TypeError: encoding without a string argument
2022-10-11 14:25:27,004 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:41]
2022-10-11 15:41:44,504 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:41]
2022-10-11 15:45:37,990 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:41]
2022-10-11 15:47:24,488 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:41]
2022-10-11 15:47:44,215 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:41]
2022-10-11 15:52:27,722 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:41]
2022-10-11 15:52:30,514 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:41]
2022-10-11 15:53:47,734 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:41]
2022-10-11 15:56:05,195 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:41]
2022-10-11 16:10:00,318 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:41]
2022-10-11 21:58:16,047 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:44]
2022-10-11 21:58:25,471 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:44]
2022-10-11 22:00:04,503 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:41]
2022-10-11 22:00:50,799 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:44]
2022-10-11 22:08:21,175 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:44]
2022-10-11 22:12:53,613 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:44]
2022-10-12 12:43:46,470 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-12 12:45:34,989 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-12 12:48:36,289 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-12 12:51:25,665 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-12 12:55:26,915 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-12 12:58:42,379 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-12 12:59:49,805 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-12 13:39:42,016 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-12 20:41:29,967 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-12 20:41:39,858 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-12 21:25:26,222 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-12 21:26:29,587 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-12 21:32:20,489 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-12 21:34:56,232 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-12 21:36:29,436 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-12 21:37:32,906 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-12 21:40:06,007 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-12 21:42:12,172 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-12 21:44:04,423 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-12 21:45:14,867 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-12 21:47:35,025 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-12 21:49:36,323 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-12 21:50:08,404 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-12 21:50:46,137 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-13 11:38:22,196 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-13 11:38:27,395 ERROR: Exception on /index/ [GET] [in /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py:1892]
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1948, in full_dispatch_request
    rv = self.preprocess_request()
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 2242, in preprocess_request
    rv = func()
  File "/Users/sam/PycharmProjects/flask_lessons/app/routes.py", line 28, in before_request
    g.locale = 'zh' if str(get_locale()).startswith('zh') else str(get_locale())
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask_babel/__init__.py", line 222, in get_locale
    babel = current_app.extensions['babel']
KeyError: 'babel'
2022-10-13 11:45:04,835 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
2022-10-13 11:45:09,394 ERROR: Exception on /index/ [GET] [in /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py:1892]
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/_compat.py", line 39, in reraise
    raise value
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 1948, in full_dispatch_request
    rv = self.preprocess_request()
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask/app.py", line 2242, in preprocess_request
    rv = func()
  File "/Users/sam/PycharmProjects/flask_lessons/app/routes.py", line 28, in before_request
    g.locale = 'zh' if str(get_locale()).startswith('zh') else str(get_locale())
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/flask_babel/__init__.py", line 222, in get_locale
    babel = current_app.extensions['babel']
KeyError: 'babel'
2022-10-13 11:47:50,286 INFO: Microblog startup [in /Users/sam/PycharmProjects/flask_lessons/app/__init__.py:47]
